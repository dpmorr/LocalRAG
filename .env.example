# ==================== Core Configuration ====================

# Environment (development, staging, production)
ENVIRONMENT=development

# ==================== Database ====================

# PostgreSQL
DATABASE_URL=postgresql://career_mentor:dev_password@localhost:5432/career_mentor
DATABASE_POOL_SIZE=20
DATABASE_MAX_OVERFLOW=10

# ==================== Cache & Message Queue ====================

# Redis
REDIS_URL=redis://localhost:6379
REDIS_POOL_SIZE=50

# RabbitMQ / SQS
RABBITMQ_URL=amqp://career_mentor:dev_password@localhost:5672
# For production (AWS SQS):
# SQS_QUEUE_URL=https://sqs.us-west-2.amazonaws.com/123456789/career-mentor-queue

# ==================== Object Storage ====================

# MinIO (local development)
S3_ENDPOINT=http://localhost:9000
S3_ACCESS_KEY=career_mentor
S3_SECRET_KEY=dev_password
S3_REGION=us-east-1
S3_BUCKET_RAW=raw-docs
S3_BUCKET_CLEAN=clean-docs
S3_BUCKET_CHUNKS=chunks
S3_BUCKET_TEMPLATES=templates
S3_BUCKET_ARTIFACTS=artifacts

# AWS S3 (production)
# S3_ENDPOINT= (leave empty for AWS)
# S3_ACCESS_KEY= (use IAM role instead)
# S3_SECRET_KEY= (use IAM role instead)

# ==================== Authentication ====================

# JWT Configuration
JWT_SECRET=dev_jwt_secret_change_in_production_with_strong_random_value
JWT_ALGORITHM=HS256
JWT_EXPIRATION_MINUTES=60
JWT_REFRESH_EXPIRATION_DAYS=30

# AWS Cognito (production)
COGNITO_USER_POOL_ID=
COGNITO_CLIENT_ID=
COGNITO_REGION=us-west-2

# ==================== Service URLs (Development) ====================

GATEWAY_URL=http://localhost:8080
AUTH_SERVICE_URL=http://localhost:8081
CHAT_SERVICE_URL=http://localhost:8082
INGESTION_SERVICE_URL=http://localhost:8083
EMBEDDING_SERVICE_URL=http://localhost:8084
VECTOR_STORE_SERVICE_URL=http://localhost:8085
INFERENCE_SERVICE_URL=http://localhost:8086
CV_SERVICE_URL=http://localhost:8087
PLAN_SERVICE_URL=http://localhost:8088
RENDER_SERVICE_URL=http://localhost:8089
PROFILE_SERVICE_URL=http://localhost:8090
WEB_RETRIEVAL_SERVICE_URL=http://localhost:8091
NOTIFICATION_SERVICE_URL=http://localhost:8092

# ==================== LLM & Embedding Models ====================

# Primary inference model (vLLM)
INFERENCE_MODEL_NAME=Qwen/Qwen2.5-14B-Instruct
# Alternative: meta-llama/Llama-3.1-8B-Instruct, meta-llama/Llama-3.1-70B-Instruct

# Embedding model
EMBEDDING_MODEL_NAME=BAAI/bge-m3
EMBEDDING_DIMENSION=1024

# Reranker model
RERANKER_MODEL_NAME=BAAI/bge-reranker-v2-m3

# vLLM configuration
TENSOR_PARALLEL_SIZE=1
GPU_MEMORY_UTILIZATION=0.9
MAX_MODEL_LEN=32768
VLLM_DTYPE=auto

# ==================== External LLM APIs (Fallback) ====================

# Anthropic Claude (for long-context fallback)
ANTHROPIC_API_KEY=

# Google Gemini (alternative long-context)
GOOGLE_API_KEY=

# OpenAI (alternative)
OPENAI_API_KEY=

# ==================== LangChain & LangSmith ====================

# LangSmith (observability for LangGraph)
LANGSMITH_API_KEY=
LANGSMITH_PROJECT=career-mentor-dev
LANGSMITH_TRACING_V2=true

# ==================== Observability ====================

# OpenTelemetry
OTLP_ENDPOINT=http://localhost:4317
OTLP_INSECURE=true

# Prometheus
PROMETHEUS_PUSHGATEWAY_URL=http://localhost:9091

# Logging
LOG_LEVEL=INFO
LOG_FORMAT=json

# ==================== Web Retrieval ====================

# Allowed domains for web search (comma-separated)
ALLOWED_WEB_DOMAINS=wikipedia.org,arxiv.org,github.com,stackoverflow.com,medium.com,dev.to

# User agent for web scraping
WEB_SCRAPER_USER_AGENT=CareerMentorBot/1.0

# ==================== Email/Notifications ====================

# SMTP (for email notifications)
SMTP_HOST=smtp.gmail.com
SMTP_PORT=587
SMTP_USER=
SMTP_PASSWORD=
SMTP_FROM_EMAIL=noreply@careermentor.ai

# Slack (for operator alerts)
SLACK_WEBHOOK_URL=
SLACK_CHANNEL=#career-mentor-alerts

# ==================== Rate Limiting ====================

# Requests per minute per user
RATE_LIMIT_PER_MINUTE=60

# Requests per day per user
RATE_LIMIT_PER_DAY=1000

# ==================== Cost Controls ====================

# Max tokens per chat run
MAX_TOKENS_PER_RUN=8000

# Max tokens per day per user
MAX_TOKENS_PER_USER_PER_DAY=100000

# Model routing confidence threshold (0-1)
MODEL_ROUTING_CONFIDENCE_THRESHOLD=0.7

# Enable long-context fallback (Claude/Gemini)
ENABLE_LONG_CONTEXT_FALLBACK=true
LONG_CONTEXT_MAX_TOKENS=200000

# ==================== Retrieval Configuration ====================

# Hybrid search top-k (before reranking)
RETRIEVAL_TOP_K=50

# Reranker top-k (after reranking)
RERANK_TOP_K=10

# BM25 weight vs vector weight (0-1, 0.5 = equal)
BM25_WEIGHT=0.5

# Chunk size (tokens)
CHUNK_SIZE=512
CHUNK_OVERLAP=64

# ==================== Security ====================

# Encryption key for sensitive data
ENCRYPTION_KEY=dev_encryption_key_change_in_production

# KMS (AWS production)
KMS_KEY_ID=

# Enable PII redaction
ENABLE_PII_REDACTION=true

# ==================== Feature Flags ====================

# Enable CV generation
ENABLE_CV_GENERATION=true

# Enable learning plan generation
ENABLE_PLAN_GENERATION=true

# Enable web retrieval
ENABLE_WEB_RETRIEVAL=true

# Enable operator console (rewind/fork)
ENABLE_OPERATOR_CONSOLE=true

# ==================== Development ====================

# Enable debug mode
DEBUG=true

# Enable hot reload
HOT_RELOAD=true

# Enable API docs (Swagger UI)
ENABLE_API_DOCS=true

# Seed database with test data
SEED_DATABASE=true

# ==================== Production (AWS) ====================

# AWS Region
AWS_REGION=us-west-2

# EKS Cluster
EKS_CLUSTER_NAME=career-mentor-prod

# RDS Instance
RDS_ENDPOINT=
RDS_PORT=5432

# ElastiCache Redis
ELASTICACHE_ENDPOINT=

# CloudFront Distribution
CLOUDFRONT_DISTRIBUTION_ID=
CLOUDFRONT_DOMAIN=

# ALB/Ingress
ALB_DNS_NAME=

# ==================== CI/CD ====================

# GitHub Container Registry
GHCR_TOKEN=

# Docker Registry
DOCKER_REGISTRY=ghcr.io/your-org

# Deployment namespace
K8S_NAMESPACE=default

# Blue/Green deployment
ENABLE_BLUE_GREEN=true
